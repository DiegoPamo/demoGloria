{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 4 admin, bootstrap 4, css3 dashboard, bootstrap 4 dashboard, material admin bootstrap 4 dashboard, frontend, responsive bootstrap 4 admin template, material design, material dashboard bootstrap 4 dashboard template">
    <meta name="description" content="MaterialPro is powerful and clean admin dashboard template, inpired from Google's Material Design">
    <meta name="robots" content="noindex,nofollow">
    <title>Dashboard Gloria</title>
    <link rel="canonical" href="https://www.wrappixel.com/templates/materialpro/" />
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon.png">
    <!-- This Page CSS -->

    <!-- Custom CSS -->

    <link href="{% static 'dist/css/style.min.css' %}" rel="stylesheet">
    <link href="{% static 'dist/css/chartStyle.css' %}" rel="stylesheet">
    
</head>
<style>
  .btn.btn-primary.active{
    background-color: #090051 !important;
    color: #ffffff !important;
  }
  .btn.btn-primary{
    background-color: #ffffff !important;
    color: #090051 !important;
    border-color:#090051 !important;
  }
  .navegacion {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    height: 10vh;
  }
  .btn-info{
    background-color: #090051 !important;
  }
  .nav-pills {
    text-align: center;
    margin-top: 20px; /* Ajusta el margen superior según sea necesario */
  }
  
  .nav-pills li {
    width: 200px; /* Ancho deseado */
    height: 50px; /* Altura deseada */
    display: flex;
    justify-content: center;
    align-items: center;
    /* border: 1px solid #ccc; */
  }

  .modal-body_row{
    display: flex;
    flex-direction: row;
  }
</style>
<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper" data-sidebartype=mini-sidebar>
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
      
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        {% include 'components/navbar.html'%}
        <div class="page-wrapper">
            <div class="row page-titles">
                <div class="col-md-5 col-12 align-self-center">
                    <h3 class="text-themecolor mb-0">Dashboard control contenido neto</h3>
                    <ol class="breadcrumb mb-0 p-0 bg-transparent">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                        <li class="breadcrumb-item active">Dashboard Contenido Neto</li>
                    </ol>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="card-body">
              <button type="button" class="btn btn-info" data-toggle="modal" data-target="#info-modal">
                <i class="fas fa-info-circle"></i> Grafico Medicion
              </button>
              <button onclick="extraerInfoCont();" type="button" class="btn btn-secondary" data-toggle="modal" data-target="#summary-modal">
                <i class="fas fa-info-circle"></i> Mostrar Resumen
              </button>
              <div class="modal fade" id="info-modal" tabindex="-1" role="dialog" aria-labelledby="info-modal-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="info-modal-label">Información</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div id="gauge" style="width: 450px; height: 300px;"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal fade" id="summary-modal" tabindex="-1" role="dialog" aria-labelledby="summary-modal-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" style="max-width: 1300px !important;" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="info-modal-label">Resumen</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="modal-body_row">
                        <div class="mb-3 col">
                          <label class="col-sm-2 col-form-label" >Fecha</label>
                          <div class="col-sm-10">
                            <input type="text" readonly class="form-control-plaintext" id="staticDate" value="">
                          </div>
                          <label class="col-sm-2 col-form-label" >Operador</label>
                          <div class="col-sm-10">
                            <input type="text" readonly class="form-control-plaintext" id="staticOp" value="">
                          </div>
                          <div class="card-body">
                            <h4 class="card-title">Promedio Muestro</h4>
                            <div class="demo-container" style="height:450px; width:650px;">
                                <div id="grafico3" class="flot-chart-content" style="height:450px; width:650px;"></div>
                            </div>
                          </div>
                          <label class="col-sm-2 col-form-label" >Status Cilindro</label>
                          <div class="col-sm-10">
                            <input type="text" readonly class="form-control-plaintext" id="staticStatusCilindro" value="">
                          </div>
                          <label class="col-sm-2 col-form-label" >Muestra</label>
                          <div class="col-sm-10">
                            <input type="text" readonly class="form-control-plaintext" id="staticMuestra" value="">
                          </div>
                        </div>
                        <div class="mb-3 col">
                          <label class="col-sm-2 col-form-label" >Turno</label>
                          <div class="col-sm-10" id="">
                            <input type="text" readonly class="form-control-plaintext" id="staticTurno" value="">
                          </div>
                          <label class="col-sm-2 col-form-label" >x̄() =</label>
                          <div class="col-sm-10">
                            
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
              </div>
              <form id="form_contenido" class="form-horizontal mt-3 form-material" action="{% url 'index' %}" method="POST">
                {% csrf_token %}
                <div class="container-fluid">

                <div class="navegacion">
                    
                      <div class="nav nav-pills btn-group" role="group" aria-label="navegador">
                         
                        <a class="btn btn-primary active" data-toggle="pill" href="#section1" aria-current="page">FORMULARIO PRINCIPAL</a>
                        
                        
                        <a class="btn btn-primary" data-toggle="pill" href="#section2">GRAFICOS Y TABLA MUESTREO</a>
                        
                        
                        <a class="btn btn-primary" data-toggle="pill" href="#section3">CONTROL DE CILINDROS</a>
                        
                    </div>
                </div>

                <div class="tab-content">
                    <!-- FORMULARIO DE LLENADO -->
                    <div id="section1" class="card tab-pane fade show active">
                        <div class="card-body">
                            <div class="flex-row">
                                <h4 class="card-title">Control de Contenido Neto - 365g</h4>
                            </div>
                                <div class="form-row">
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.fecha|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.turno|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.lote|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-3 mb-0">
                                        {{ form_control.linea_maq|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-3 mb-0">
                                        {{ form_control.tanque|as_crispy_field }}
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.tipo_leche|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.operador|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.supervisor|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-6 mb-0">
                                        {{ form_control.caracteristica|as_crispy_field }}
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.carta|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.frec_muestreo|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-2 mb-0">
                                        {{ form_control.tam_muestra|as_crispy_field }}
                                    </div>
                                    <div class="form-group col-md-6 mb-0">
                                        {{ form_control.especificacion|as_crispy_field }}
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-12 mb-0">
                                        {{ form_control.observaciones|as_crispy_field }}
                                    </div>
                                </div>
                        </div>
                    </div>
                    <!-- FIN FORMULARIO DE LLENADO  -->

                    <!-- GRAFICOS DE BARRAS  Y TABLA-->
                    <div id="section2" class="tab-pane fade">
                        <div class="row"  filac>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title">Promedio Muestro</h4>
                                        <div class="demo-container" style="height:450px; width:650px;">
                                            <div id="grafico" class="flot-chart-content" style="height:450px; width:650px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title">Rango</h4>
                                        <div class="demo-container"style="height:450px; width:650px;">
                                            <div id="grafico2" class="flot-chart-content" style="height:450px; width:650px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card" style="overflow-x: auto;">
                            <div class="card-body">
                                <h4 class="card-title">Subgrupos</h4>
                            </div>
                            <table class="table table-striped" >
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m1" name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m2"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m3"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m4"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m5"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m6"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m7"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m8"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m9"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m10"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m11"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m12"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m13"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m14"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m15"name="sub_grupo1[]"></td>
                                    <td><input type="text" class="form-control input-fila fila1 input-fila-1 m16"name="sub_grupo1[]"></td>

                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m1" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m2" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m3" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m4" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m5" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m6" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m7" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m8" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m9" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m10" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m11" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m12" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m13" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m14" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m15" name="sub_grupo2[]"></td>
                                    <td><input type="text" class="form-control input-fila fila2 input-fila-2 m16" name="sub_grupo2[]"></td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m1" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m2" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m3" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m4" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m5" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m6" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m7" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m8" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m9" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m10" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m11" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m12" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m13" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m14" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m15" name="sub_grupo3[]"></td>
                                    <td><input type="text" class="form-control input-fila fila3 input-fila-3 m16" name="sub_grupo3[]"></td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td><input type="text" class="form-control input-fila fila4 input-fila-4 m1" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m2" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m3" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m4" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m5" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m6" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m7" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m8" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m9" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m10" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m11" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m12" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m13" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m14" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m15" name="sub_grupo4[]"></td>
                                    <td><input type="text" class="form-control input-fila fila4  input-fila-4 m16" name="sub_grupo4[]"></td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td><input type="text" class="form-control input-fila fila5 input-fila-5 m1" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m2" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m3" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m4" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m5" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m6" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m7" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m8" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m9" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m10" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m11" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5 input-fila-5 m12" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m13" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m14" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m15" name="sub_grupo5[]"></td>
                                    <td><input type="text" class="form-control input-fila fila5  input-fila-5 m16" name="sub_grupo5[]"></td>
                                </tr>
                                <tr>
                                    <td>x̄</td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion1" name="promedio[]" readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion2" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion3" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion4" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion5" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion6" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion7" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion8" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion9" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion10" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion11" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion12" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion13" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion14" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion15" name="promedio[]"  readonly></td>
                                    <td><input type="text" class="form-control cl-promedio" id="resultado-posicion16" name="promedio[]"  readonly></td>
                                </tr>
                                <tr>
                                    <td rowspan="1">RANGO (R)</td>
                                    <td><input type="text" id="resultado1" class="form-control cl-rango" name="rango[]"  readonly></td>
                                    <td><input type="text" id="resultado2" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado3" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado4" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado5" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado6" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado7" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado8" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado9" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado10" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado11" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado12" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado13" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado14" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado15" class="form-control cl-rango" name="rango[]" readonly></td>
                                    <td><input type="text" id="resultado16" class="form-control cl-rango" name="rango[]" readonly></td>
                                </tr>
                                <tr>
                                    <td>HORA</td>
                                    <td><input type="time" class="form-control cl-hora" id="hora1" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora2" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora3" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora4" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora5" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora6" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora7" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora8" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora9" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora10" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora11" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora12" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora13" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora14" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora15" name="hora_reg[]"></td>
                                    <td><input type="time" class="form-control cl-hora"id="hora16" name="hora_reg[]"></td>
                                </tr>      
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- FIN DE GRAFICO DE BARRAS Y TABLA -->
  
                    <!-- Sección 3 -->
                    <div id="section3" class="tab-pane fade">

                        <div class="card-body">
                            <h1>CONTROL CILINDROS</h1>
                            <div class="">
                              <div class="btn-add">
                                <button id="btn-agregar_cilinder1" class="btn btn-info ">
                                  Agregar Fila
                                </button>
                              </div>
                            </div>
                            <div class="d-flex align-items-start">
                              <!-- Muestra 1 -->
                              
                              <div class="p-2 flex-fill">
                                <div class="card">
                                  <div id="cilinder1" class="card-body">
                                    <h5 class="card-title">MUESTRA 1</h5>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila1" name="cilindro1[]">
                                      </div>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila1" name="cilindro1[]">
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila2" name="cilindro1[]">
                                      </div>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila2" name="cilindro1[]">
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila3" name="cilindro1[]">
                                      </div>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control cl-cil1 cfila3" name="cilindro1[]">
                                      </div>
                                    </div>
                                    <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila4" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila4" name ="cilindro1[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila5" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila5" name="cilindro1[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila6" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila6" name="cilindro1[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila7" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila7" name="cilindro1[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila8" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila8" name="cilindro1[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila9" name="cilindro1[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil1 cfila9" name="cilindro1[]">
                                        </div>
                                      </div>
                                      
                                      
                                  </div>
                                  
                                </div>
                                
                              </div>
                        
                              <!-- Muestra 2 -->
                              <div class="p-2 flex-fill">
                                <div class="card">
                                  <div id="cilinder2" class="card-body">
                                    <h5 class="card-title">MUESTRA 2</h5>
                                    <div class="row fila">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila1" name="cilindro2[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila1" name="cilindro2[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila2" name="cilindro2[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila2" name="cilindro2[]">
                                        </div>
                                      </div>
                                      <div class="row ">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila3" name="cilindro2[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil2 cfila3" name="cilindro2[]">
                                        </div>
                                      </div>
                                      <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila4" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila4" name="cilindro2[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila5" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila5" name="cilindro2[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila6" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila6" name="cilindro2[]">
                                          </div>
                                        </div>
                                        <div class="row ">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila7" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila7" name="cilindro2[]">
                                          </div>
                                        </div>
                                        <div class="row ">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila8" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila8" name="cilindro2[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila9" name="cilindro2[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil2 cfila9" name="cilindro2[]">
                                          </div>
                                        </div>
                                        
                                        
                                  </div>
                                  
                                </div>
                                
                              </div>
                        
                              <!-- Muestra 3 -->
                              <div class="p-2 flex-fill">
                                <div id="cilinder3" class="card">
                                  <div class="card-body">
                                    <h5 class="card-title">MUESTRA 3</h5>
                                      <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila1" name="cilindro3[]">
                                          </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil3 cfila1" name="cilindro3[]">
                                        </div>
                                      </div>
                                      <div class="row">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil3 cfila2" name="cilindro3[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil3 cfila2" name="cilindro3[]">
                                        </div>
                                      </div>
                                      <div class="row fila">
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil3 cfila3" name="cilindro3[]">
                                        </div>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control cl-cil3 cfila3" name="cilindro3[]">
                                        </div>
                                      </div>
                                      <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila4" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila4" name="cilindro3[]">
                                          </div>
                                      </div>
                                      <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila5" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila5" name="cilindro3[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila6" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila6" name="cilindro3[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila7" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila7" name="cilindro3[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila8" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila8" name="cilindro3[]">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila9" name="cilindro3[]">
                                          </div>
                                          <div class="col-md-6">
                                            <input type="text" class="form-control cl-cil3 cfila9" name="cilindro3[]">
                                          </div>
                                        </div>
                                        
                                        
                                  </div>
                                  
                                </div>
                              </div>
                              <div class="p-2 flex-fill">
                                  <div style="width: 600px;">
                                    
                                  </div>
                              </div>
                            </div>
                          </div>


                        <div class="card-footer d-flex justify-content-center">
                            <button type="submit" class="btn btn-info mr-2">Guardar</button>
                            <button type="button" class="btn btn-secondary">Cancelar</button>
                        </div>
                    </div>
                  </div>

                </div>

            </form>
            <footer class="footer">
              © 2023 SUCCESS SDISE - DASHBOARD GLORIA
          </footer>
            </div>
            
          




            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
  </div>
</div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- customizer Panel -->
    <!-- ============================================================== -->
    <aside class="customizer">
        <a href="javascript:void(0)" class="service-panel-toggle"><i class="fa fa-spin fa-cog"></i></a>
        <div class="customizer-body">
            <ul class="nav customizer-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab"
                        aria-controls="pills-home" aria-selected="true"><i class="mdi mdi-wrench font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#chat" role="tab"
                        aria-controls="chat" aria-selected="false"><i class="mdi mdi-message-reply font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab"
                        aria-controls="pills-contact" aria-selected="false"><i
                            class="mdi mdi-star-circle font-20"></i></a>
                </li>
            </ul>
        </div>
    </aside>

    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->

    <script src="{% static 'src/assets/libs/jquery/dist/jquery.min.js' %}"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="{% static 'src/assets/libs/popper.js/dist/umd/popper.min.js' %}"></script>
    <script src="{% static 'src/assets/libs/bootstrap/dist/js/bootstrap.min.js' %}"></script>
    <!-- apps -->
    <script src="{% static 'dist/js/app.min.js' %}"></script>
    <script src="{% static 'dist/js/app.init.js' %}"></script>
    <script src="{% static 'dist/js/app-style-switcher.js' %}"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="{% static 'src/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js' %}"></script>
    <script src="{% static 'src/assets/extra-libs/sparkline/sparkline.js' %}"></script>
    <!--Wave Effects -->
    <script src="{% static 'dist/js/waves.js' %}"></script>
    <!--Menu sidebar -->
    <script src="{% static 'dist/js/sidebarmenu.js' %}"></script>
    <!--Custom JavaScript -->
    <script src="{% static 'dist/js/custom.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.7.2/echarts-en.js"></script> -->


    <script>
    $(document).ready(function () {
      // Navegación a la siguiente sección
      $('.next').click(function () {
        $(this).closest('.tab-pane').removeClass('show active');
        $(this).closest('.tab-pane').next().addClass('show active');
        $('a.nav-link[href="#' + $(this).closest('.tab-pane').next().attr('id') + '"]').tab('show');
      });

      // Navegación a la sección anterior
      $('.prev').click(function () {
        $(this).closest('.tab-pane').removeClass('show active');
        $(this).closest('.tab-pane').prev().addClass('show active');
        $('a.nav-link[href="#' + $(this).closest('.tab-pane').prev().attr('id') + '"]').tab('show');
      });
    });
    </script>

    <!-- Configuracion suma promedios -->
    <script>
      // Obtener los elementos de input de cada fila
      var fila1Inputs = document.querySelectorAll('.fila1');
      var fila2Inputs = document.querySelectorAll('.fila2');
      var fila3Inputs = document.querySelectorAll('.fila3');
      var fila4Inputs = document.querySelectorAll('.fila4');
      var fila5Inputs = document.querySelectorAll('.fila5');

  
      // Obtener los elementos de resultado
      var resultadoPosicion1 = document.getElementById('resultado-posicion1');
      var resultadoPosicion2 = document.getElementById('resultado-posicion2');
      var resultadoPosicion3 = document.getElementById('resultado-posicion3');
      var resultadoPosicion4 = document.getElementById('resultado-posicion4');
      var resultadoPosicion5 = document.getElementById('resultado-posicion5');
      var resultadoPosicion6 = document.getElementById('resultado-posicion6');
      var resultadoPosicion7 = document.getElementById('resultado-posicion7');
      var resultadoPosicion8 = document.getElementById('resultado-posicion8');
      var resultadoPosicion9 = document.getElementById('resultado-posicion9');
      var resultadoPosicion10 = document.getElementById('resultado-posicion10');
      var resultadoPosicion11 = document.getElementById('resultado-posicion11');
      var resultadoPosicion12 = document.getElementById('resultado-posicion12');
      var resultadoPosicion13 = document.getElementById('resultado-posicion13');
      var resultadoPosicion14 = document.getElementById('resultado-posicion14');
      var resultadoPosicion15 = document.getElementById('resultado-posicion15');
      var resultadoPosicion16 = document.getElementById('resultado-posicion16');

  
      // Función para realizar la suma de valores en posiciones correspondientes
      function sumarPosicionesCorrespondientes() {
        // Verificar si las filas tienen la misma longitud
      //   if (fila1Inputs.length !== fila2Inputs.length) {
      //     resultadoPosicion1.textContent = 'Las filas no tienen la misma longitud.';
      //     return;
      //   }
  
        var sumaPosicion1 = 0;
        var sumaPosicion2 = 0;
        var sumaPosicion4 = 0;
        var sumaPosicion5 = 0;
        var sumaPosicion6 = 0;
        var sumaPosicion7 = 0;
        var sumaPosicion8 = 0;
        var sumaPosicion9 = 0;
        var sumaPosicion10 = 0;
        var sumaPosicion11 = 0;
        var sumaPosicion12 = 0;
        var sumaPosicion13 = 0;
        var sumaPosicion14 = 0;
        var sumaPosicion15 = 0;
        var sumaPosicion16 = 0;

  
        // Sumar los valores en posiciones correspondientes
        for (var i = 0; i < fila1Inputs.length; i++) {
          var valorFila1 = parseFloat(fila1Inputs[i].value) || 0;
          var valorFila2 = parseFloat(fila2Inputs[i].value) || 0;
          var valorFila3 = parseFloat(fila3Inputs[i].value) || 0;
          var valorFila4 = parseFloat(fila4Inputs[i].value) || 0;
          var valorFila5 = parseFloat(fila5Inputs[i].value) || 0;

  
          if (i === 0) {
            sumaPosicion1 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 1) {
            sumaPosicion2 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 2) {
            sumaPosicion3 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 3) {
            sumaPosicion4 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 4) {
            sumaPosicion5 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 5) {
            sumaPosicion6 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 6) {
            sumaPosicion7 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 7) {
            sumaPosicion8 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 8) {
            sumaPosicion9 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 9) {
            sumaPosicion10 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 10) {
            sumaPosicion11 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 11) {
            sumaPosicion12 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 12) {
            sumaPosicion13 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 13) {
            sumaPosicion14 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 14) {
            sumaPosicion15 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          } else if (i === 15) {
            sumaPosicion16 = valorFila1 + valorFila2 + valorFila3 + valorFila4 + valorFila5;
          }
        }
  
        // Mostrar los resultados
        resultadoPosicion1.value = (sumaPosicion1/5);
        resultadoPosicion2.value = (sumaPosicion2/5);
        resultadoPosicion3.value = (sumaPosicion3/5);
        resultadoPosicion4.value = (sumaPosicion4/5);
        resultadoPosicion5.value = (sumaPosicion5/5);
        resultadoPosicion6.value = (sumaPosicion6/5);
        resultadoPosicion7.value = (sumaPosicion7/5);
        resultadoPosicion8.value = (sumaPosicion8/5);
        resultadoPosicion9.value = (sumaPosicion9/5);
        resultadoPosicion10.value = (sumaPosicion10/5);
        resultadoPosicion11.value = (sumaPosicion11/5);
        resultadoPosicion12.value = (sumaPosicion12/5);
        resultadoPosicion13.value = (sumaPosicion13/5);
        resultadoPosicion14.value = (sumaPosicion14/5);
        resultadoPosicion15.value = (sumaPosicion15/5);
        resultadoPosicion16.value = (sumaPosicion16/5);

      }
  
      // Ejecutar la función de suma cada 2 segundos
      setInterval(sumarPosicionesCorrespondientes, 2000);
  </script>


    <!-- Configuracion ECHARTS -->
    <script>
        // Crear una instancia del gráfico
        var myChart = echarts.init(document.getElementById('grafico'));
        var myChart3 = echarts.init(document.getElementById('grafico3'));
        // Definir variables para almacenar los datos
        var xAxisData = ['Muestra1', 'Muestra2', 'Muestra3', 'Muestra4', 'Muestra5', 
                         'Muestra6', 'Muestra7', 'Muestra8', 'Muestra9', 'Muestra10',
                         'Muestra11', 'Muestra12', 'Muestra13', 'Muestra14', 'Muestra15', 'Muestra16'];
        var valores = [];

        // Actualizar el gráfico con los valores de los inputs
        function actualizarGrafico() {
            var nuevosValores = [];

            $('.cl-promedio').each(function() {
                var valor = parseFloat($(this).val());
                nuevosValores.push(valor);
            });

            valores = nuevosValores;

            var option = {
                xAxis: {
                    type: 'category',
                    data: xAxisData,
                    axisLabel: {
                        rotate: 75, // Rotar los labels en 90 grados en sentido contrario a las agujas del reloj
                        interval: 0 // Mostrar todos los labels
                    }
                },
                yAxis: {
                    type: 'value'
                },
                toolbox: {
                    feature: {
                        dataZoom: {
                        show: true, // Mostrar la funcionalidad de zoom
                        yAxisIndex: false // Aplicar zoom solo en el eje x
                        },
                        restore: {
                        show: true // Mostrar el botón de restaurar el zoom
                        }
                    }
                },
                series: [
                    {
                        data: valores,
                        type: 'line'
                    }
                ]
            };

            myChart.setOption(option);
            myChart3.setOption(option);
        }

        // Ejecutar la función cada 2 segundos
        setInterval(actualizarGrafico, 2000);
    </script>

    <!-- Calculo diferencias entre mayor y menor -->
    <script>
        function obtenerMayorYMenorPorPosicion() 
        {
            var numFilas = 5; // Número de filas
            var numInputs = 16; // Número de inputs por fila
            // var inputsLlenos = {}

            for (var posicion = 0; posicion < numInputs; posicion++) {
                var valores = [];

                for (var fila = 1; fila <= numFilas; fila++) {
                    var valor = parseFloat($(".input-fila-" + fila).eq(posicion).val());
                    if (!isNaN(valor) && isFinite(valor)) {
                        valores.push(valor);
                        // inputsLlenos[posicion] = true;
                    }
                }

                if (valores.length > 0) {
                    var mayor = Math.max(...valores);
                    var menor = Math.min(...valores);

                    var resta = mayor - menor;
                    $("#resultado" + (posicion + 1)).val(resta);
                } else {
                    // console.log("No se encontraron valores numericos en la posicion", posicion +1)
                    // $("#resultado" + posicion).val('');
                    // $("#hora" + posicion).val('');
                }
            }
        }

        setInterval(obtenerMayorYMenorPorPosicion, 2000);
    </script>

    <!-- Asignacion de horas a los inputs correspondientes -->
    <script>
        function obtenerHoraActual() {
            var now = new Date();
            var hora = now.getHours().toString().padStart(2, '0');
            var minutos = now.getMinutes().toString().padStart(2, '0');
            return hora + ":" + minutos;
        }


        function actualizarHoraInputs() {
            var numFilas = 5; // Número de filas
            var numInputs = 16; // Número de inputs por fila

            for (var posicion = 0; posicion < numInputs; posicion++) {
                var valores = [];

                for (var fila = 1; fila <= numFilas; fila++) {
                    var valor = parseFloat($(".input-fila-" + fila).eq(posicion).val());
                    if (!isNaN(valor) && isFinite(valor)) {
                        valores.push(valor);
                    }
                }

                if (valores.length > 0) {
                    if (valores.length === numFilas) {
                        var horaActual = obtenerHoraActual();
                        $("#hora" + (posicion + 1)).val(horaActual);
                    }
                } else {
                    // console.log("No se encontraron valores numéricos en la posición", posicion + 1);
                }
            }
        }

        actualizarHoraInputs(); // Llamar a la función una vez para establecer la hora inicial

        // Evento para actualizar la hora solo cuando se modifiquen los inputs
        $(".input-fila").on("input", function() {
            actualizarHoraInputs();
        });
    </script>

    <!-- Configuracion ECHARTS 2-->
    <script>
        // Crear una instancia del gráfico
        var myChart2 = echarts.init(document.getElementById('grafico2'));

        // Definir variables para almacenar los datos
        var xAxisData2 = ['Muestra1', 'Muestra2', 'Muestra3', 'Muestra4', 'Muestra5', 
                            'Muestra6', 'Muestra7', 'Muestra8', 'Muestra9', 'Muestra10',
                            'Muestra11', 'Muestra12', 'Muestra13', 'Muestra14', 'Muestra15', 'Muestra16'];
        var valores2 = [];

        // Actualizar el gráfico con los valores de los inputs
        function actualizarGrafico2() {
            var nuevosValores = [];

            $('.cl-rango').each(function() {
                var valor = parseFloat($(this).val());
                nuevosValores.push(valor);
            });

            valores2 = nuevosValores;

            var option = {
                xAxis: {
                    type: 'category',
                    data: xAxisData2,
                    axisLabel: {
                        rotate: 75, // Rotar los labels en 90 grados en sentido contrario a las agujas del reloj
                        interval: 0 // Mostrar todos los labels
                    }
                },
                yAxis: {
                type: 'value'
                },
                series: [
                {
                    data: valores2,
                    type: 'line'
                }
                ]
            };

            myChart2.setOption(option);
        }

        // Ejecutar la función cada 2 segundos
        setInterval(actualizarGrafico2, 2000);
    </script>

    <script>
      $(document).ready(function() {
        var arrayFieldValores1 = '{{ modelo.sub_grupo1|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');

        var arrayFieldValores2 = '{{ modelo.sub_grupo2|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');

        var arrayFieldValores3 = '{{ modelo.sub_grupo3|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');

        var arrayFieldValores4 = '{{ modelo.sub_grupo4|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');

        var arrayFieldValores5 = '{{ modelo.sub_grupo5|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');
        
        var horasValores = '{{ modelo.hora_reg|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');

          
        var cil1Valores = '{{ modelo.cilindro1|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');
        
        var cil2Valores = '{{ modelo.cilindro2|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');
        
        var cil3Valores = '{{ modelo.cilindro3|escapejs }}'
          .replace(/'/g, '')
          .replace(/[\[\]]+/g, '')
          .replace(/,,/g, ',0,');
        

        var inputsArrayField1 = $('.input-fila-1');
        var inputsArrayField2 = $('.input-fila-2');
        var inputsArrayField3 = $('.input-fila-3');
        var inputsArrayField4 = $('.input-fila-4');
        var inputsArrayField5 = $('.input-fila-5');

        var inputsArrayHora = $('.cl-hora');
        var inputsArrayCil1 = $('.cl-cil1');
        var inputsArrayCil2 = $('.cl-cil2');
        var inputsArrayCil3 = $('.cl-cil3');


        asignarValores(inputsArrayField1, arrayFieldValores1);
        asignarValores(inputsArrayField2, arrayFieldValores2);
        asignarValores(inputsArrayField3, arrayFieldValores3);
        asignarValores(inputsArrayField4, arrayFieldValores4);
        asignarValores(inputsArrayField5, arrayFieldValores5);
        asignarValores(inputsArrayHora, horasValores);
        asignarValores(inputsArrayCil1, cil1Valores);
        asignarValores(inputsArrayCil2, cil2Valores);
        asignarValores(inputsArrayCil3, cil3Valores);

        function asignarValores(inputsArrayField, arrayFieldValores) {
          var valoresArray = arrayFieldValores.split(',');
          var valoresModificadosArray = valoresArray.map(function(valor) {
            return valor.trim() || '0';
          });

          inputsArrayField.each(function(index) {
            $(this).val(valoresModificadosArray[index]);
          });
        }
      });

    </script>

    <!-- BARRA DE CARGA  -->
    <script>
      var chart = document.getElementById('gauge');
      var gChart = echarts.init(chart);
    
      var option = {
        tooltip: {
          formatter: "{a} <br/>{b} : {c}"
        },
        toolbox: {
          show: true,
          feature: {
            restore: { show: true },
            saveAsImage: { show: true }
          }
        },
        series: [
          {
            title: {
              show: true,
              offsetCenter: [0, '-50%'],
              color: '#888',
              fontWeight: 'bold',
              fontSize: 24
            },
            type: 'gauge',
            startAngle: 180,
            endAngle: 0,
            detail: {
              formatter: '{value}',
              offsetCenter: [0, '50%']
            },
            data: [{ value: 409.5, name: 'Rate' }],
            progress: {
              show: true,
              roundCap: true,
              width: 30,
              itemStyle: {
                color: {
                  colorStops: [
                    { offset: 0, color: '#30B32D' }, // Verde (409.5 - 410.0)
                    { offset: 0.5, color: '#FFDD00' }, // Amarillo (410.0 - 410.5)
                    { offset: 1, color: '#F03E3E' } // Rojo (> 410.5)
                  ]
                }
              }
            },
            axisLabel: {
              color: '#888',
              show: true,
              distance: -80,
              formatter: function (value) {
                return value.toFixed(1);
              }
            },
            axisTick: {
              splitNumber: 10,
              length: 8,
              lineStyle: {
                color: '#888'
              }
            },
            splitLine: {
              length: 12,
              lineStyle: {
                color: '#888'
              }
            },
            axisLine: {
              lineStyle: {
                color: [
                  [0.083, '#30B32D'], // Verde (409.5 - 410.0)
                  [0.5, '#FFDD00'], // Amarillo (410.0 - 410.5)
                  [1, '#F03E3E'] // Rojo (> 410.5)
                ]
              }
            }
          }
        ]
      };
    
      function calculateAverage() {
        var inputs = $('.cl-promedio');
        var sum = 0;
        var count = 0;
    
        inputs.each(function () {
          var value = parseFloat($(this).val());
          if (value > 0) {
            sum += value;
            count++;
          }
        });
    
        var average = count > 0 ? sum / count : 0;
        return average.toFixed(2);
      }
    
      setInterval(function () {
        var average = calculateAverage();
        option.series[0].data[0].value = average;
        gChart.setOption(option, true);
      }, 2000);
    </script>

    
    <script>
      var alertShown = []; // Array para controlar si se ha mostrado el alert para cada input

      function checkInputs() {
        var inputs = document.querySelectorAll('.cl-promedio');

        for (var i = 0; i < inputs.length; i++) {
          var value = parseFloat(inputs[i].value);

          if (value > 0 && value > 410.5 && !alertShown[i]) {
            alert('La muestra numero ' + (i + 1) + ' excede el valor estandar de 410.5');
            alertShown[i] = true; // Se establece la posición del array en true para evitar mostrar más alertas para ese input
          }
        }
      }

      setInterval(checkInputs, 2000);
    </script>

    <!-- MODAL RESUMEN  -->
    <script>
      const extraerInfoCont = ()=>{
        var id_fecha = document.getElementById("id_fecha");
        var id_operador = document.getElementById("id_operador");
        var id_turno = document.getElementById("Turno");
        console.log(id_fecha);
        staticDate.value = id_fecha.value;
        staticOp.value = id_operador.selectedOptions[0].textContent;
        staticTurno.value = id_turno.value;
      }
    </script>

    <script>
      var apiValues = [[]];
      var totalValues = 0;

      function getAPIdata() {
          $.ajax({
              url: 'http://127.0.0.1:1880/getPeso',
              method: 'GET',
              dataType: 'json',
              success: function(data) {
                  if (data.estado === 1) {
                      var currentArray = apiValues[apiValues.length - 1];
                      if (currentArray.length >= 5) {
                          // Si el array actual está completo, crear uno nuevo
                          currentArray = [];
                          apiValues.push(currentArray);
                      }

                      currentArray.push(data.peso);
                      totalValues++;

                      // Actualizar los inputs correspondientes
                      for (var i = 0; i < totalValues; i++) {
                          var groupIndex = Math.floor(i / 5) + 1;
                          var selector = '.m' + groupIndex;

                          var arrayIndex = i % 5;
                          var value = apiValues[groupIndex - 1][arrayIndex];
                          $(selector).eq(arrayIndex).val(value);
                      }
                  }

                  console.log(data);
                  console.log(apiValues);
              },
              error: function(xhr, status, error) {
                  console.error('Error al obtener datos de la API:', error);
              },
              complete: function() {
                  // Realizar una nueva solicitud después de 5 segundos
                  setTimeout(getAPIdata, 3000);
              }
          });
      }

      getAPIdata();

    </script>

    <script>

      document.addEventListener("DOMContentLoaded", function() {
        
        const agregarFilaBtn1 = document.getElementById(`btn-agregar_cilinder1`);
        agregarFilaBtn1.addEventListener("click", ()=>{
        agregarFilaFunc(1)
        });
        agregarFilaBtn1.addEventListener("click", ()=>{
          agregarFilaFunc(2)
        });
        agregarFilaBtn1.addEventListener("click", ()=>{
          agregarFilaFunc(3)
        });
        const agregarFilaFunc = (id) =>{
          const agregarFilaBtn1 = document.getElementById(`btn-agregar_cilinder1`);
          let cont = document.getElementsByClassName(`form-control cl-cil${id}`);
          console.log(cont.length/2);
          if(cont.length/2 == 36){
            agregarFilaBtn1.disabled = true;
          }
          else if(cont.length/2 <37){
            const tablaBody = document.getElementById(`cilinder${id}`);
          
          
          // Crear una nueva fila y celdas
          const nuevaFila = document.createElement("div");
          nuevaFila.classList.add("row");
          nuevaFila.innerHTML = `
              <div class="col-md-6">
                <input type="text" class="form-control cl-cil${id} cfila${(cont.length/2)+1}" name="cilindro${id}[]">
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control cl-cil${id} cfila${(cont.length/2)+1}" name="cilindro${id}[]">
              </div>
          `;
          
    
          // Agregar la nueva fila a la tabla
          tablaBody.appendChild(nuevaFila);
          }
          
      }
      });
    </script>
</body>

</html>